<h1 class="absolute -top-4 py-px px-2 -mx-2 uppercase font-bold text-lg">
  Recent posts
</h1>
<% if Current.user %>
  <%= link_to "&plus; New post".html_safe, new_post_path, class: "absolute -top-4 right-4 py-px px-2 -mx-2 border-2 border-transparent hover:border-black focus:outline-none focus:ring focus:ring-offset-0 focus:ring-blue-500" %>
<% end %>

<div id="posts">
  <% if @posts.any? %>
    <table class="w-[calc(100%+2rem)] -mx-4 -mb-0">
      <tbody>
        <% @posts.each do |post| %>
          <tr class="*:px-4 *:py-2">
            <td>
              <% cache post do %>
                <%= render post %>
              <% end %>
            </td>
            <td class="flex justify-end gap-2">
              <% if post.user == Current.user %>
                <%= link_to "Edit", edit_post_path(post), class: "border border-black text-black bg-white py-1 px-2 cursor-pointer hover:bg-black hover:text-white focus:outline-none focus:ring focus:ring-offset-2 focus:ring-blue-500" %>
                <%= button_to "Destroy", post, method: :delete, class: "border border-red-500 text-red-500 bg-white py-1 px-2 cursor-pointer hover:bg-red-500 hover:text-white focus:outline-none focus:ring focus:ring-offset-2 focus:ring-blue-500" %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <div class="flex items-center justify-center gap-2">
      <span class="">No posts yet&hellip; Want to be the first?</span>
    </div>
  <% end %>
</div>